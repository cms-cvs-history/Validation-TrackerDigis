process digivalid = {

	source = PoolRASource { 
          untracked vstring fileNames = {'file:/afs/cern.ch/cms/data/CMSSW/Validation/TrackerDigis/data/MuonSimHit.root'}
          untracked int32 maxEvents = -1
          untracked uint32 debugVebosity = 10
          untracked bool   debugFlag     = true
	}

        include "FWCore/MessageLogger/data/MessageLogger.cfi"
        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
        include "SimTracker/SiStripDigitizer/data/SiStripDigi.cfi"
        include "SimTracker/SiPixelDigitizer/data/PixelDigi.cfi"
        include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"

        es_module = TrackerGeometricDetESModule {}
        es_module = TrackerDigiGeometryESModule {}

        module stripvalid = SiStripDigiValid {
          untracked string outputFile = 'stripdigihisto.root'
          untracked bool verbose = true
        }

        module pixelvalid  = SiPixelDigiValid {
          untracked string outputFile = 'pixeldigihisto.root'
        }

       service = DaqMonitorROOTBackEnd{ }         

       module o1 = PoolOutputModule
       {
         untracked string fileName = "MuonDigi.root"
       }

                                                                                            
	path p = {stripdigi,pixdigi,stripvalid, pixelvalid}

        endpath outpath = { o1 }
}

