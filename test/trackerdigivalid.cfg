process PROD = {

	source = PoolRASource { 
          untracked vstring fileNames = {'file:SimHitMuon_1.root','file:SimHitMuon_2.root','file:SimHitMuon_3.root','file:SimHitMuon_4.root','file:SimHitMuon_5.root','file:SimHitMuon_6.root','file:SimHitMuon_7.root','file:SimHitMuon_8.root','file:SimHitMuon_9.root','file:SimHitMuon_10.root','file:SimHitMuon_11.root','file:SimHitMuon_12.root'}
          untracked int32 maxEvents = -1
          untracked uint32 debugVebosity = 10
          untracked bool   debugFlag     = true
	}

        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
        include "SimTracker/SiStripDigitizer/data/SiStripDigi.cfi"
        include "SimTracker/SiPixelDigitizer/data/PixelDigi.cfi"

	es_source = XMLIdealGeometryESSource {
	    FileInPath GeometryConfiguration="Geometry/TrackerSimData/data/trackerSimConfiguration.xml" 
	    string rootNodeName = ""
	}

        es_module = TrackerGeometricDetESModule {}
        es_module = TrackerDigiGeometryESModule {}

        module stripvalid = SiStripDigiValid {
          untracked string outputFile = 'stripdigihisto.root'
          untracked bool verbose = true
        }

        module pixelvalid  = SiPixelDigiValid {
          untracked string outputFile = 'pixeldigihisto.root'
        }



        module out = PoolOutputModule {
               untracked string fileName = 'trackerdigi.root'
        }

       service = MessageLogger {
                    vstring destinations   = { "debugmessages.txt" }
                    PSet debugmessages.txt = { string threshold = "DEBUG"}
        }

       service = DaqMonitorROOTBackEnd{ }         
                                                                                                    
	path p = {stripdigi,pixdigi,stripvalid, pixelvalid}
}

